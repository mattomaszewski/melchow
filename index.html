<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Melchow Station Finder</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Station Search</h1>
        <input type="text" id="station-search" placeholder="Search for a station..." autocomplete="off">
        <ul id="suggestions"></ul>
    </header>
    <main>
        <div id="departures">
            <!-- Live departures will be shown here -->
        </div>
    </main>
    <script>
        $(document).ready(function() {
            $('#station-search').on('input', function() {
                const query = $(this).val();
                if (query.length > 2) {
                    $.get(`https://v6.vbb.transport.rest/locations?query=${query}&results=5`, function(data) {
                        $('#suggestions').empty();
                        data.forEach(function(station) {
                            $('#suggestions').append(`<li data-id="${station.id}">${station.name}</li>`);
                        });
                    });
                }
            });

            $('#suggestions').on('click', 'li', function() {
                const stationId = $(this).data('id');
                const stationName = $(this).text();
                $('#station-search').val(stationName);
                $('#suggestions').empty();
                // Fetch and display live departures/arrivals for the selected station
                fetchDepartures(stationId);
            });

            function fetchDepartures(stationId) {
                // Here you would implement the logic to fetch and display departures/arrivals
            }
        });
    </script>
</body>
</html>
